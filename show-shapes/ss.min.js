(function(){function e(){var e=arguments;return e[0].replace(/{(\d+)}/g,function(t,n){var r=parseInt(n);return r>=0&&r<e.length-1?e[r+1]:""})}function t(t,n,r){t=t.split(/[()]/);var i=t[0],s,o="";if(t.length>1)s=t[1].split(/\s*,\s*/);switch(i){case"rectangle":var u="",a="";if(s.length>4){u="rx='"+s[4]+"'";a="ry='"+(s.length>5?s[5]:s[4])+"'"}o=e("<rect x='{0}' y='{1}' width='{2}' height='{3}' {4} {5} />",s[0],s[1],s[2],s[3],u,a);break;case"circle":o=e("<circle cx='{0}' cy='{1}' r='{2} />",s[0],s[1],s[2]);break;case"ellipse":o=e("<ellipse cx='{0}' cy='{1}' rx='{2}' ry='{3}' />",s[0],s[1],s[2],s[3]);break;case"polygon":var f=s[0].search(/nonzero|evenodd/i)>=0?s.shift():"nonzero";var l=s.map(function(e,t,r){e=e.replace(/\s+/,",");e=e.replace(/(-?\d+(?:\.\d+)?)(px|%)/g,function(e,t,r,i){var s=parseFloat(t);switch(r){case"%":s*=(i?n.offsetHeight:n.offsetWidth)/100;case"px":default:}return s.toString()});return e});l=l.join(" ");o=e("<polygon fill-rule='{0}' points='{1}' />",f,l);break;default:return null}return"<svg xmlns='http://www.w3.org/2000/svg' style='display:block' width='100%' height='100%'><g fill='blue'>"+o+"</g></svg>"}function n(e,n,r){var i=t(r,e,n);if(!i)return;if(n.getPropertyValue("position")=="static")e.style.setProperty("position","relative");var s=document.createElement("div");s.setAttribute("class","shape-inside-bookmarklet-overlay");s.setAttribute("style","width:100%;height:100%;position:absolute;top:0;left:0;opacity:0.5");s.innerHTML=i;e.appendChild(s)}function r(){var e=document.getElementsByTagName("*");for(var t=0;t<e.length;t++){var r=e[t];var i=getComputedStyle(r);var s=i.getPropertyValue("-webkit-shape-inside");if(s=="outside-shape")s=i.getPropertyValue("-webkit-shape-outside");if(s!="auto")n(r,i,s)}}function s(){r();i=true}function o(){var e=document.getElementsByClassName("shape-inside-bookmarklet-overlay");while(e.length){var t=e[0];t.parentNode.removeChild(t)}i=false}var i=false;!function(){window.showShapesBookmarklet=function(){i?o():s()};s()}()})()